<template>
    <div class="city">
        <div class="city-hot">
            <b class="city-title city-hot-title">热门城市</b>
            <div class="city-desc city-hot-desc">
                <span
                    class="city-label"
                    v-for="(item, index) in hotCities"
                    :key="index"
                    @click="navigateToCites(item.query)"
                    >{{ item.name }}</span
                >
            </div>
            <span class="city-more" @click="showMoreHandler">
                <b v-show="!isShowMore">更多</b>
                <svg
                    v-show="!isShowMore"
                    t="1710853095307"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="75610"
                    width="16"
                    height="16"
                >
                    <path
                        d="M200.533333 435.2H411.733333L275.2 298.666667c4.266667-4.266667 6.4-8.533333 6.4-14.933334 0-12.8-10.666667-21.333333-21.333333-21.333333-4.266667 0-8.533333 2.133333-12.8 4.266667 4.266667 8.533333 8.533333 14.933333 14.933333 21.333333-6.4-6.4-12.8-10.666667-21.333333-14.933333-10.666667-4.266667-23.466667-8.533333-36.266667-8.533334h-4.266667c-44.8 2.133333-81.066667 40.533333-81.066666 85.333334 0 46.933333 36.266667 83.2 81.066666 85.333333z"
                        fill="#00bebd"
                        p-id="75611"
                    ></path>
                    <path
                        d="M260.266667 307.2c6.4 0 12.8-2.133333 14.933333-6.4 4.266667-4.266667 6.4-8.533333 6.4-14.933333 0-12.8-10.666667-21.333333-21.333333-21.333334-4.266667 0-8.533333 2.133333-12.8 4.266667-2.133333 0-2.133333 2.133333-4.266667 2.133333-2.133333 2.133333-2.133333 2.133333-2.133333 4.266667-2.133333 4.266667-4.266667 6.4-4.266667 12.8 0 8.533333 10.666667 19.2 23.466667 19.2z"
                        fill="#00bebd"
                        p-id="75612"
                    ></path>
                    <path
                        d="M200.533333 435.2H411.733333L275.2 298.666667c4.266667-4.266667 6.4-8.533333 6.4-14.933334 0-12.8-10.666667-21.333333-21.333333-21.333333-4.266667 0-8.533333 2.133333-12.8 4.266667 4.266667 8.533333 8.533333 14.933333 14.933333 21.333333-6.4-6.4-12.8-10.666667-21.333333-14.933333-10.666667-4.266667-23.466667-8.533333-36.266667-8.533334h-4.266667c-44.8 2.133333-81.066667 40.533333-81.066666 85.333334 0 46.933333 36.266667 83.2 81.066666 85.333333z"
                        fill="#00bebd"
                        p-id="75613"
                    ></path>
                    <path
                        d="M260.266667 307.2c6.4 0 12.8-2.133333 14.933333-6.4 4.266667-4.266667 6.4-8.533333 6.4-14.933333 0-12.8-10.666667-21.333333-21.333333-21.333334-4.266667 0-8.533333 2.133333-12.8 4.266667-2.133333 0-2.133333 2.133333-4.266667 2.133333-2.133333 2.133333-2.133333 2.133333-2.133333 4.266667-2.133333 4.266667-4.266667 6.4-4.266667 12.8 0 8.533333 10.666667 19.2 23.466667 19.2z"
                        fill="#00bebd"
                        p-id="75614"
                    ></path>
                    <path
                        d="M411.733333 232.533333v206.933334H200.533333c-44.8-2.133333-81.066667-40.533333-81.066666-85.333334s36.266667-83.2 81.066666-85.333333h4.266667c21.333333 0 42.666667 8.533333 57.6 21.333333-12.8-14.933333-21.333333-34.133333-21.333333-57.6v-4.266666c2.133333-44.8 40.533333-81.066667 85.333333-81.066667s83.2 36.266667 85.333333 81.066667v4.266666z"
                        fill="#00bebd"
                        p-id="75615"
                    ></path>
                    <path
                        d="M433.066667 460.8h-234.666667c-55.466667-4.266667-100.266667-49.066667-100.266667-106.666667s44.8-102.4 100.266667-106.666666h21.333333v-14.933334-6.4c4.266667-55.466667 49.066667-100.266667 106.666667-100.266666s104.533333 44.8 106.666667 100.266666v234.666667z m-228.266667-170.666667h-4.266667c-34.133333 2.133333-59.733333 29.866667-59.733333 64s25.6 61.866667 59.733333 64H390.4v-185.6-4.266666c-2.133333-34.133333-29.866667-59.733333-64-59.733334s-61.866667 25.6-64 59.733334v4.266666c0 14.933333 6.4 32 17.066667 42.666667l-29.866667 29.866667c-12.8-10.666667-29.866667-14.933333-44.8-14.933334z"
                        fill="#00bebd"
                        p-id="75616"
                    ></path>
                    <path
                        d="M612.266667 791.466667v-206.933334H823.466667c44.8 2.133333 81.066667 40.533333 81.066666 85.333334s-36.266667 83.2-81.066666 85.333333h-4.266667c-21.333333 0-42.666667-8.533333-57.6-21.333333 12.8 14.933333 21.333333 34.133333 21.333333 57.6v4.266666c-2.133333 44.8-40.533333 81.066667-85.333333 81.066667s-83.2-36.266667-85.333333-81.066667v-4.266666z"
                        fill="#00bebd"
                        p-id="75617"
                    ></path>
                    <path
                        d="M697.6 898.133333c-57.6 0-104.533333-44.8-106.666667-100.266666v-234.666667h234.666667c55.466667 4.266667 100.266667 49.066667 100.266667 106.666667s-44.8 102.4-100.266667 106.666666h-21.333333v21.333334c-2.133333 55.466667-49.066667 100.266667-106.666667 100.266666z m-64-292.266666V795.733333c2.133333 34.133333 29.866667 59.733333 64 59.733334s61.866667-25.6 64-59.733334v-4.266666c0-14.933333-6.4-32-17.066667-42.666667l29.866667-29.866667c12.8 10.666667 29.866667 17.066667 46.933333 17.066667 34.133333-2.133333 59.733333-29.866667 59.733334-64s-25.6-61.866667-59.733334-64H633.6z"
                        fill="#00bebd"
                        p-id="75618"
                    ></path>
                    <path
                        d="M411.733333 791.466667v-206.933334H200.533333c-44.8 2.133333-81.066667 40.533333-81.066666 85.333334s36.266667 83.2 81.066666 85.333333h4.266667c21.333333 0 42.666667-8.533333 57.6-21.333333-12.8 14.933333-21.333333 34.133333-21.333333 57.6v4.266666c2.133333 44.8 40.533333 81.066667 85.333333 81.066667s83.2-36.266667 85.333333-81.066667v-4.266666z"
                        fill="#00bebd"
                        p-id="75619"
                    ></path>
                    <path
                        d="M326.4 898.133333c-57.6 0-102.4-44.8-106.666667-100.266666v-6.4-14.933334c-6.4 0-14.933333 2.133333-21.333333 0-55.466667-4.266667-100.266667-49.066667-100.266667-106.666666s44.8-104.533333 100.266667-106.666667h234.666667v234.666667c-4.266667 55.466667-51.2 100.266667-106.666667 100.266666z m-78.933333-179.2l29.866666 29.866667c-10.666667 12.8-17.066667 27.733333-17.066666 42.666667v4.266666c2.133333 34.133333 29.866667 59.733333 64 59.733334s61.866667-25.6 64-59.733334V605.866667H200.533333c-34.133333 2.133333-59.733333 29.866667-59.733333 64s25.6 61.866667 59.733333 64h4.266667c14.933333 0 32-4.266667 42.666667-14.933334z"
                        fill="#00bebd"
                        p-id="75620"
                    ></path>
                    <path
                        d="M612.266667 232.533333v206.933334H823.466667c44.8-2.133333 81.066667-40.533333 81.066666-85.333334s-36.266667-83.2-81.066666-85.333333h-4.266667c-21.333333 0-42.666667 8.533333-57.6 21.333333 12.8-14.933333 21.333333-34.133333 21.333333-57.6v-4.266666c-2.133333-44.8-40.533333-81.066667-85.333333-81.066667s-83.2 36.266667-85.333333 81.066667v4.266666z"
                        fill="#00bebd"
                        p-id="75621"
                    ></path>
                    <path
                        d="M819.2 460.8H590.933333V232.533333v-6.4c4.266667-55.466667 49.066667-100.266667 106.666667-100.266666s102.4 44.8 106.666667 100.266666v21.333334c6.4 0 14.933333-2.133333 21.333333 0 55.466667 4.266667 100.266667 49.066667 100.266667 106.666666s-44.8 102.4-100.266667 106.666667h-6.4z m-185.6-42.666667H823.466667c34.133333-2.133333 59.733333-29.866667 59.733333-64s-25.6-61.866667-59.733333-64h-4.266667c-14.933333 0-32 6.4-42.666667 17.066667L746.666667 275.2c10.666667-12.8 17.066667-27.733333 17.066666-42.666667v-4.266666c-2.133333-34.133333-29.866667-59.733333-64-59.733334s-61.866667 25.6-64 59.733334V418.133333z"
                        fill="#00bebd"
                        p-id="75622"
                    ></path>
                </svg>
                <b v-show="isShowMore">收起</b>
                <svg
                    v-show="isShowMore"
                    t="1710853513248"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="972"
                    width="16"
                    height="16"
                >
                    <path
                        d="M398.933333 202.666667v196.266666H198.4c-42.666667-2.133333-76.8-38.4-76.8-81.066666s34.133333-78.933333 76.8-81.066667h4.266667c21.333333 0 40.533333 8.533333 53.333333 21.333333-12.8-14.933333-21.333333-34.133333-21.333333-53.333333v-4.266667c2.133333-42.666667 38.4-76.8 81.066666-76.8s78.933333 34.133333 81.066667 76.8c0-2.133333 2.133333 0 2.133333 2.133334zM622.933333 202.666667v196.266666H823.466667c42.666667-2.133333 76.8-38.4 76.8-81.066666s-34.133333-78.933333-76.8-81.066667h-4.266667c-21.333333 0-40.533333 8.533333-53.333333 21.333333 12.8-14.933333 21.333333-34.133333 21.333333-53.333333v-4.266667c-2.133333-42.666667-38.4-76.8-81.066667-76.8s-78.933333 34.133333-81.066666 76.8c-2.133333-2.133333-2.133333 0-2.133334 2.133334zM622.933333 819.2v-196.266667H823.466667c42.666667 2.133333 76.8 38.4 76.8 81.066667s-34.133333 78.933333-76.8 81.066667h-4.266667c-21.333333 0-40.533333-8.533333-53.333333-21.333334 12.8 14.933333 21.333333 34.133333 21.333333 53.333334v4.266666c-2.133333 42.666667-38.4 76.8-81.066667 76.8s-78.933333-34.133333-81.066666-76.8c-2.133333 2.133333-2.133333 0-2.133334-2.133333zM405.333333 814.933333V618.666667H204.8c-42.666667 2.133333-76.8 38.4-76.8 81.066666s34.133333 78.933333 76.8 81.066667h4.266667c21.333333 0 40.533333-8.533333 53.333333-21.333333-12.8 14.933333-21.333333 34.133333-21.333333 53.333333v4.266667c2.133333 42.666667 38.4 76.8 81.066666 76.8s78.933333-34.133333 81.066667-76.8c2.133333 0 2.133333 0 2.133333-2.133334z"
                        fill="#00bebd"
                        p-id="973"
                    ></path>
                </svg>
            </span>
        </div>
        <div class="city-other" v-show="isShowMore">
            <b class="city-title city-other-title">其他城市</b>
            <div class="city-desc">
                <span
                    class="city-label"
                    v-for="(item, index) in otherCities"
                    :key="index"
                    @click="navigateToCites(item.query)"
                    >{{ item.name }}</span
                >
            </div>
        </div>
    </div>
</template>

<script setup lang="ts">
import { ref } from "vue";
import router from "../../router";

const isShowMore = ref(false);
const hotCities = ref([
    { name: "北京", query: "010000" },
    { name: "上海", query: "020000" },
    { name: "广州", query: "030200" },
    { name: "深圳", query: "040000" },
    { name: "南京", query: "070200" },
    { name: "武汉", query: "180200" },
    { name: "成都", query: "090200" },
    { name: "天津", query: "050000" },
    { name: "杭州", query: "080200" },
    { name: "苏州", query: "070300" },
    { name: "济南", query: "120200" },
    { name: "大连", query: "230300" },
    { name: "重庆", query: "060000" },
    { name: "青岛", query: "120300" },
    { name: "福州", query: "110200" },
    { name: "厦门", query: "110300" },
    { name: "西安", query: "200200" },
]);

const otherCities = ref([
    { name: "广东", query: "030000" },
    { name: "江苏", query: "070000" },
    { name: "山东", query: "120000" },
    { name: "河北", query: "160000" },
    { name: "河南", query: "170000" },
    { name: "浙江", query: "080000" },
    { name: "四川", query: "090000" },
    { name: "安徽", query: "150000" },
    { name: "湖北", query: "180000" },
    { name: "辽宁", query: "230000" },
    { name: "山西", query: "210000" },
    { name: "湖南", query: "190000" },
    { name: "福建", query: "110000" },
    { name: "陕西", query: "200000" },
    { name: "江西", query: "130000" },
    { name: "黑龙江", query: "220000" },
    { name: "广西", query: "140000" },
    { name: "甘肃", query: "270000" },
    { name: "吉林", query: "240000" },
    { name: "云南", query: "250000" },
    { name: "贵州", query: "260000" },
    { name: "内蒙古", query: "280000" },
    { name: "新疆", query: "310000" },
    { name: "海南", query: "100000" },
    { name: "宁夏", query: "290000" },
    { name: "青海", query: "320000" },
    { name: "西藏", query: "300000" },
    { name: "其它", query: "000000" },
]);

const navigateToCites = (query: string) => {
    router.push({ path: `/search`, query: { query } });
};

const showMoreHandler = () => {
    isShowMore.value = !isShowMore.value;
};
</script>

<style scoped lang="scss">
.city {
    background: #fff;
    border-radius: 12px;
    margin-bottom: 20px;
    padding: 0 20px 18px;
    max-width: 1200px;
    width: 100%;
    box-shadow: 0 8px 20px 0 rgba(0, 0, 0, 0.15);

    .city-more {
        color: #00bebd;
    }

    .city-title {
        color: #222;
        font-size: 16px;
        left: 0;
        line-height: 22px;
        padding-right: 10px;
        position: absolute;
        text-align: right;
        top: 18px;
        width: 105px;

        &:after {
            background-color: #e1e3e8;
            content: "";
            display: block;
            height: 16px;
            margin-top: -8px;
            position: absolute;
            right: 0;
            top: 50%;
            width: 1px;
        }
    }

    .city-desc {
        line-height: 20px;
        margin-left: 102px;
        margin-right: 62px;
        position: relative;
        text-align: left;

        .city-label {
            color: #757575;
            display: inline-block;
            font-size: 14px;
            padding-left: 16px;
            padding-top: 18px;
            cursor: pointer;

            &:hover {
                color: #00a6a7;
                font-weight: 900;
                transform: scale(1.05);
            }
        }
    }

    .city-hot {
        position: relative;

        .city-hot-title:before {
            background: url(https://img01.51jobcdn.com/yjs/img/icon_hotcity-382e072.png)
                50% no-repeat;
            background-size: contain;
            content: "";
            display: inline-block;
            height: 16px;
            margin-right: 6px;
            margin-top: -2px;
            vertical-align: middle;
            width: 16px;
        }

        .city-hot-desc {
            .city-label {
                &:nth-of-type(-n + 3) {
                    font-weight: 900;
                }
            }
        }
    }

    .city-other {
        border-top: 1px solid #edeff2;
        margin-top: 20px;
        position: relative;
    }

    .city-more {
        cursor: pointer;
        display: flex;
        align-items: center;
        height: 20px;
        line-height: 20px;
        position: absolute;
        font-size: 14px;
        font-weight: 900;
        right: 20px;
        top: 18px;
        user-select: none;

        &:active {
            transform: scale(1.05);
        }
    }
}
</style>